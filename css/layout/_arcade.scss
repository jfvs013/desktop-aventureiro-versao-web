// ------------------------------------------
// FASE 3: ARCADE DE DEFESA (ESTILOS)
// Utilizando a paleta Navy/Blue fornecida
// ------------------------------------------
@use '../abstracts/main' as *;
/* =========================================
   FASE 3: ESCUDO DE SENHAS (ESTILO FINAL)
   ========================================= */

/* --- 1. CONFIGURA√á√ÉO DA P√ÅGINA --- */
.arcade-page {
    background-color: #050a10; /* Fundo quase preto */
    color: #fff;
    margin: 0;
    overflow: hidden; /* Impede barras de rolagem */
    height: 100vh;
    font-family: 'Segoe UI', Roboto, monospace;
    user-select: none; /* Impede sele√ß√£o de texto */
}

/* Container Principal com Grade de Fundo */
.arcade-mode {
    display: flex;
    flex-direction: column;
    height: 100%;
    position: relative;
    
    /* Efeito de "Grade Digital" (Matrix vibe) */
    background-image: 
        linear-gradient(rgba(0, 255, 136, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 136, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
}

/* --- 2. BARRA SUPERIOR (HUD) --- */
.arcade-hud {
    background: rgba(5, 15, 30, 0.95);
    border-bottom: 3px solid #00d2ff;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 30px;
    z-index: 100;
    box-shadow: 0 0 20px rgba(0, 210, 255, 0.15);
}

.hud-left, .hud-right {
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 1.1rem;
    font-weight: bold;
    color: #aaddff;
}

.hud-value {
    color: #fff;
    font-family: 'Courier New', monospace;
    font-size: 1.5rem;
    text-shadow: 0 0 10px #00d2ff;
}

/* Barra de Vida do Sistema */
.life-bar-bg {
    width: 250px;
    height: 20px;
    background: #222;
    border: 2px solid #444;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.life-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff4444, #ffcc00, #00ff88);
    transition: width 0.3s ease, background-color 0.3s;
}

/* --- 3. ARENA E JOGADOR --- */
#game-arena {
    position: relative;
    flex: 1;
    overflow: hidden;
    cursor: none; /* Esconde o mouse para n√£o atrapalhar o escudo */
}

/* O Escudo (Jogador) */
#player-shield {
    position: absolute;
    bottom: 40px;
    width: 120px;
    height: 15px;
    background: #00d2ff;
    border-radius: 8px;
    box-shadow: 0 0 15px #00d2ff, 0 0 40px rgba(0, 210, 255, 0.4);
    z-index: 50;
    will-change: transform; /* Otimiza performance */
}

/* Estado quando o Super Laser est√° carregado */
#player-shield.shield-ready {
    background: #fff;
    box-shadow: 0 0 20px #fff, 0 0 60px #00ff88;
    border: 2px solid #00ff88;
}

/* --- 4. ITENS QUE CAEM --- */

/* INIMIGO: Senha Fraca (Pedra) */
.falling-rock {
    position: absolute;
    background: #3a3a3a;
    color: #ccc;
    padding: 8px 12px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 1rem;
    border: 2px solid #222;
    border-bottom: 5px solid #1a1a1a; /* Efeito 3D */
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    z-index: 10;
    white-space: nowrap;
}
/* √çcone de alerta antes do texto */
.falling-rock::before { content: '‚ö†Ô∏è '; filter: grayscale(1); }

/* AMIGO: Senha Forte (Chip Seguro) */
.falling-chip {
    position: absolute;
    background: rgba(0, 40, 0, 0.9);
    color: #00ff88; /* Verde Neon */
    padding: 8px 16px;
    border-radius: 6px;
    font-family: 'Courier New', monospace;
    font-weight: 800;
    font-size: 1.1rem;
    border: 1px solid #00ff88;
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.3), inset 0 0 15px rgba(0, 255, 136, 0.1);
    z-index: 11;
    white-space: nowrap;
    animation: floatGlow 2s infinite alternate;
}
/* √çcone de cadeado antes do texto */
.falling-chip::before { content: 'üîí '; }

/* --- 5. O MASCOTE (NOVO ESTILO) --- */
.mascot-overlay {
    position: fixed;
    bottom: 0;
    right: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 900;
    pointer-events: none; /* Permite clicar atrav√©s dele se necess√°rio */
}

#mascot-character {
    width: 180px; /* Ajuste conforme necess√°rio para sua imagem */
    height: auto;
    filter: drop-shadow(0 0 15px rgba(0, 210, 255, 0.4));
    animation: mascotFloat 4s ease-in-out infinite;
}

/* Bal√£o de Fala */
.speech-bubble {
    background: #03032c;
    color: #000;
    padding: 12px 18px;
    border-radius: 15px;
    margin-bottom: 15px;
    position: relative;
    max-width: 220px;
    text-align: center;
    font-weight: bold;
    font-size: 0.95rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    
    /* Estado inicial invis√≠vel */
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.speech-bubble.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Tri√¢ngulo do bal√£o */
.speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    border-width: 8px 8px 0;
    border-style: solid;
    border-color: #fff transparent transparent transparent;
}

/* --- 6. EFEITOS VISUAIS --- */

/* Super Laser */
.super-laser {
    position: absolute;
    bottom: 40px;
    width: 20px;
    height: 150vh;
    background: #fff;
    box-shadow: 0 0 30px #00d2ff, 0 0 60px #00ff88;
    transform-origin: bottom;
    animation: laserBlast 0.5s ease-out forwards;
    z-index: 40;
    opacity: 0.9;
}

/* Part√≠culas */
.particle {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 999;
}

/* Anima√ß√£o de Tremor (Dano) */
.shake-anim {
    animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
}

/* --- 7. ANIMA√á√ïES (KEYFRAMES) --- */

@keyframes mascotFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes floatGlow {
    from { box-shadow: 0 0 5px #00ff88; }
    to { box-shadow: 0 0 15px #00ff88; transform: scale(1.05); }
}

@keyframes laserBlast {
    0% { transform: scaleX(0.1); opacity: 0; }
    10% { transform: scaleX(1.8); opacity: 1; }
    100% { transform: scaleX(0.1); opacity: 0; }
}

@keyframes shake {
  10%, 90% { transform: translate3d(-2px, 0, 0); }
  20%, 80% { transform: translate3d(4px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-6px, 0, 0); }
  40%, 60% { transform: translate3d(6px, 0, 0); }
}